(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{4856:function(r,e,t){Promise.resolve().then(t.bind(t,8675))},1585:function(r,e){"use strict";let t="portal-loop",s="wss://rpc.gno.land:443/websocket",n="gno.land/r/matijamarjanovic/imagehuntgame";if(!t||!s||!n)throw Error("Missing environment variables");e.Z={CHAIN_ID:t,CHAIN_RPC:s,REALM_PATH:n}},8653:function(r,e,t){"use strict";let s=(0,t(2265).createContext)({provider:null,setProvider:()=>{}});e.Z=s},8675:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return i}});var s=t(7437),n=t(2265),a=t(1585),o=t(8653);let l=r=>{let e=r.match(/\((.*?)string\)/);if(!e||e.length<2)throw Error("Invalid response format");let t=e[1].trim().replaceAll('"',"");if(!t)return console.log("No top scores found"),[];let s=t.split(";").filter(Boolean);return console.log("Entries:",s),s.map(r=>{let[e,t,s]=r.split(",");if(!e||!t||!s)throw Error("Invalid entry format: ".concat(r));return{rank:parseInt(e.trim(),10),address:t.trim(),points:parseInt(s.trim(),10)}})};var i=()=>{let[r,e]=(0,n.useState)([]),[t,i]=(0,n.useState)(null),{provider:c}=(0,n.useContext)(o.Z),d=async()=>{try{try{if(c){let r=await c.evaluateExpression(a.Z.REALM_PATH,"GetTop10()"),t=l(r);t.sort((r,e)=>e.points-r.points),e(t)}}catch(r){console.error("Error fetching scores:",r)}}catch(r){console.error("Failed to send transaction:",r),i("Error sending transaction.")}};return(0,n.useEffect)(()=>{d()},[]),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Leaderboard"}),t&&(0,s.jsx)("div",{className:"text-red-500",children:t}),(0,s.jsxs)("table",{className:"min-w-full border-collapse border bg-slate-800 text-center font-sans",children:[(0,s.jsx)("thead",{className:"bg-gray-800 text-white",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border border-gray-600 px-4 py-2",children:"Rank"}),(0,s.jsx)("th",{className:"border border-gray-600 px-4 py-2",children:"Address"}),(0,s.jsx)("th",{className:"border border-gray-600 px-4 py-2",children:"Points"})]})}),(0,s.jsx)("tbody",{children:r.map((r,e)=>(0,s.jsxs)("tr",{className:"border border-gray-600",children:[(0,s.jsx)("td",{className:"border border-gray-600 px-4 py-2",children:e+1}),(0,s.jsx)("td",{className:"border border-gray-600 px-4 py-2 break-words max-w-xs",children:r.address}),(0,s.jsx)("td",{className:"border border-gray-600 px-4 py-2",children:r.points})]},e))})]})]})}}},function(r){r.O(0,[971,117,744],function(){return r(r.s=4856)}),_N_E=r.O()}]);