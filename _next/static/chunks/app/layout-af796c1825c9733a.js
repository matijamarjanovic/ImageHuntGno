(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6601:function(){},9214:function(){},5568:function(){},131:function(){},6026:function(){},9206:function(e,t,n){Promise.resolve().then(n.bind(n,8136))},3239:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var a=n(9629);class s{static waitForAdena(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise((n,a)=>{let s=Date.now(),o=()=>{window.adena?n():Date.now()-s>e?a(Error("Adena wallet extension not found within timeout.")):setTimeout(o,t)};o()})}static async validateAdena(){try{await this.waitForAdena(),console.log("Adena wallet found")}catch(e){throw console.error("Adena wallet validation failed:",e),Error("Adena not installed")}}static async establishConnection(e){await s.validateAdena();let t=window.adena;if(!t)throw Error("Adena is not defined");let n=await t.AddEstablish(e);if(n.status!==a.CT.SUCCESS&&n.type!==a.h3.ALREADY_CONNECTED)throw Error("unable to establish connection")}static async getAccountInfo(){await s.validateAdena();let e=window.adena;if(!e)throw Error("Adena is not defined");let t=await e.GetAccount();if(t.status!==a.CT.SUCCESS)throw Error("unable to fetch account info");return t.data}static async switchNetwork(e){await s.validateAdena();let t=window.adena;if(!t)throw Error("Adena is not defined");let n=await t.SwitchNetwork(e);if(n.status!==a.CT.SUCCESS&&n.type!==a.h3.REDUNDANT_CHANGE_REQUESTED)throw Error("unable to switch Adena network")}static async sendTransaction(e,t){await s.validateAdena();let n=window.adena;if(!n)throw Error("Adena is not defined");let o=await n.DoContract({messages:e,gasFee:1e5,gasWanted:t});if(o.status!==a.CT.SUCCESS)throw Error("unable to send transaction: ".concat(o.message));return o.data}}},9629:function(e,t,n){"use strict";var a,s,o,r,i,l,c,d;n.d(t,{CT:function(){return a},h3:function(){return s},mB:function(){return r}}),(i=a||(a={})).SUCCESS="success",i.FAILURE="failure",(l=s||(s={})).ALREADY_CONNECTED="ALREADY_CONNECTED",l.REDUNDANT_CHANGE_REQUESTED="REDUNDANT_CHANGE_REQUEST",(c=o||(o={})).ACTIVE="ACTIVE",c.INACTIVE="IN_ACTIVE",(d=r||(r={})).MSG_SEND="/bank.MsgSend",d.MSG_CALL="/vm.m_call",d.MSG_ADD_PKG="/vm.m_addpkg",d.MSG_RUN="/vm.m_run"},1585:function(e,t){"use strict";let n="portal-loop",a="wss://rpc.gno.land/websocket",s="gno.land/r/matijamarjanovic/imageshunt";if(!n||!a||!s)throw Error("Missing environment variables");t.Z={CHAIN_ID:n,CHAIN_RPC:a,REALM_PATH:s}},5019:function(e,t,n){"use strict";let a=(0,n(2265).createContext)({address:"",chainID:"",setAddress:()=>{},setChainID:()=>{}});t.Z=a},8653:function(e,t,n){"use strict";let a=(0,n(2265).createContext)({provider:null,setProvider:()=>{}});t.Z=a},8136:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(7437),s=n(1511),o=n.n(s),r=n(2221),i=n.n(r);n(7960);var l=n(7061),c=n(2265),d=n(8195),u=n(1585),h=n(5019),w=n(8653),m=n(3239);n(2648);var f=()=>{let{address:e}=(0,c.useContext)(h.Z),{setChainID:t,setAddress:n}=(0,c.useContext)(h.Z),[s,o]=(0,c.useState)(!1),[r,i]=(0,c.useState)("Connect Wallet"),d=async()=>{o(!0);try{await m._.establishConnection("memory-game-gno");let e=await m._.getAccountInfo();await m._.switchNetwork(u.Z.CHAIN_ID),n(e.address),t(u.Z.CHAIN_ID),l.Am.success("Connected to Adena!")}catch(e){console.error(e),l.Am.error("Unable to connect to Adena")}finally{o(!1)}};return(0,c.useEffect)(()=>{e&&i("Wallet Connected")},[]),(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)("button",{onClick:d,className:"px-4 py-2 text-white bg-slate-800 hover:bg-blue-700 transition-all rounded-md ".concat(s?"opacity-50 cursor-not-allowed":""),children:s?(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsxs)("svg",{className:"animate-spin mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Connecting..."]}):(0,a.jsx)("span",{className:"flex items-center",children:r})})})},C=n(7648),x=()=>{let[e,t]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let e=e=>{let n=document.getElementById("how-to-play-dropdown");n&&!n.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.jsxs)("nav",{className:"flex justify-between items-center p-4 bg-slate-950 text-white",children:[(0,a.jsx)(C.default,{href:"/",children:(0,a.jsx)("div",{className:"text-lg font-bold mr-6",children:"Image Hunt"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{className:"text-white focus:outline-none",onClick:()=>{t(e=>!e)},children:"How to Play"}),e&&(0,a.jsx)("div",{id:"how-to-play-dropdown",className:"absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg z-20",children:(0,a.jsxs)("div",{className:"p-4 text-black",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-2",children:"How to Play"}),(0,a.jsx)("p",{className:"mb-2",children:"You will see some images arranged in a grid. One of these images is the target."}),(0,a.jsx)("p",{className:"mb-2",children:"Click on an image to guess if it's the target. If it's not, you'll receive a clue!"}),(0,a.jsx)("p",{className:"mb-2",children:"The clue will point you in a direction (left, right, up, or down) towards the target image."}),(0,a.jsx)("p",{className:"mb-2",children:"You score points based on how quickly you find the target. Your score is calculated as the number of images minus the number of guesses."}),(0,a.jsx)("p",{className:"mb-2",children:"The game ends when the target image is found or when all guesses are used."}),(0,a.jsx)("p",{children:"You can save your score on the blockchain, and there's a leaderboard of the best scores!"})]})})]}),(0,a.jsx)(C.default,{href:"/leaderboard",children:(0,a.jsx)("button",{className:"text-white focus:outline-none",children:"Leaderboard"})}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)(f,{})})]})]})};function g(e){let{children:t}=e,[n,s]=(0,c.useState)(new d.GnoWSProvider(u.Z.CHAIN_RPC)),[r,m]=(0,c.useState)(null),[f,C]=(0,c.useState)(u.Z.CHAIN_ID);return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:"".concat(o().variable," ").concat(i().variable," antialiased"),children:(0,a.jsx)(w.Z.Provider,{value:{provider:n,setProvider:s},children:(0,a.jsxs)(h.Z.Provider,{value:{address:r,chainID:f,setAddress:m,setChainID:C},children:[(0,a.jsx)(x,{}),t,(0,a.jsx)(l.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,draggable:!0,pauseOnHover:!0})]})})})})}},7960:function(){}},function(e){e.O(0,[667,218,350,180,971,117,744],function(){return e(e.s=9206)}),_N_E=e.O()}]);